---
import Layout from '../../layouts/Layout.astro';
import ExampleWrapper from '../../components/ExampleWrapper.astro';
import { Popover, PopoverButton, PopoverPanel } from '@headlessui-astro';
---

<Layout title="Popover Basic Example">
  <ExampleWrapper class="p-8">
    <div class="w-full max-w-sm mx-auto">
      <Popover class="relative">
        {({ open }) => (
          <>
            <PopoverButton
              class:list={[
                'group inline-flex items-center rounded-md bg-blue-700 px-3 py-2 text-base font-medium text-white hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75',
                open ? 'text-opacity-90' : 'text-opacity-80',
              ]}
            >
              <span>Solutions</span>
              <svg
                class:list={[
                  'ml-2 h-5 w-5 transition duration-150 ease-in-out',
                  open ? 'rotate-180 transform' : '',
                ]}
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </PopoverButton>

            <PopoverPanel
              class="absolute left-1/2 z-10 mt-3 w-screen max-w-sm -translate-x-1/2 transform px-4 sm:px-0 lg:max-w-3xl"
            >
              <div class="overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5">
                <div class="relative grid gap-8 bg-white p-7 lg:grid-cols-2">
                  {features.map((item) => (
                    <a
                      key={item.name}
                      href={item.href}
                      class="flex items-center rounded-lg p-2 transition duration-150 ease-in-out hover:bg-gray-50 focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-50"
                    >
                      <div class="flex h-10 w-10 shrink-0 items-center justify-center text-white sm:h-12 sm:w-12">
                        <item.icon aria-hidden="true" />
                      </div>
                      <div class="ml-4">
                        <p class="text-sm font-medium text-gray-900">
                          {item.name}
                        </p>
                        <p class="text-sm text-gray-500">
                          {item.description}
                        </p>
                      </div>
                    </a>
                  ))}
                </div>
                <div class="bg-gray-50 p-4">
                  <a
                    href="##"
                    class="flow-root rounded-md px-2 py-2 transition duration-150 ease-in-out hover:bg-gray-100 focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-50"
                  >
                    <span class="flex items-center">
                      <span class="text-sm font-medium text-gray-900">
                        Documentation
                      </span>
                    </span>
                    <span class="block text-sm text-gray-500">
                      Start integrating our components in your application
                    </span>
                  </a>
                </div>
              </div>
            </PopoverPanel>
          </>
        )}
      </Popover>
    </div>
  </ExampleWrapper>
</Layout>

<script>
  // Define features for the example
  const features = [
    {
      name: 'Insights',
      description: 'Measure actions and gain valuable insights',
      href: '##',
      icon: IconOne,
    },
    {
      name: 'Automations',
      description: 'Build strategic workflows to enhance your productivity',
      href: '##',
      icon: IconTwo,
    },
    {
      name: 'Reports',
      description: 'Stay on top of your goals with insightful data',
      href: '##',
      icon: IconThree,
    },
  ];

  function IconOne() {
    return (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="40"
        height="40"
        viewBox="0 0 24 24"
        fill="none"
        stroke="#3b82f6"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path>
        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>
      </svg>
    );
  }

  function IconTwo() {
    return (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="40"
        height="40"
        viewBox="0 0 24 24"
        fill="none"
        stroke="#3b82f6"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
        <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path>
        <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>
      </svg>
    );
  }

  function IconThree() {
    return (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="40"
        height="40"
        viewBox="0 0 24 24"
        fill="none"
        stroke="#3b82f6"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
      </svg>
    );
  }
</script>